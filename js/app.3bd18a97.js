(function(){"use strict";var e={7900:function(e,t,o){var n=o(9242),r=o(3396);function a(e,t,o,n,a,l){const c=(0,r.up)("NewTraceGraph");return(0,r.wg)(),(0,r.j4)(c)}const l={id:"Graph"},c=(0,r.uE)('<h1>DeepTraLog</h1><div id="dropdown-container"><label for="select-option">Select Trace:</label><select id="select-option"></select><div class="dropdown-spacing" style="width:10px;"></div><label for="select-option-layout">Layout:</label><select id="select-option-layout"><option value="network">Network Layout</option><option value="trace" selected>Trace Layout</option></select></div>',2),s=[c];function i(e,t,o,n,a,c){return(0,r.wg)(),(0,r.iD)("div",l,s)}o(560);var p=o(6777),d={data(){return{}},mounted(){let e={top:10,right:25,bottom:30,left:40},t=1400-e.left-e.right,o=650-e.top-e.bottom;const n=["new_single_data5.json","template.csv"];let r=p.Ys("#Graph").append("svg").attr("width",t+e.left+e.right).attr("height",o+e.top+e.bottom),a=r.append("g").attr("class","zoom").attr("transform","translate("+e.left+","+e.top+")");const l=n.map((e=>e.endsWith(".json")?p.AVB(e):e.endsWith(".csv")?p.gyn(e):void 0));function c(e){let n=e[0],l=e[1];console.log(e);const c=["#fdeff2","#f6bfbc","#efab93","#f0908d","#f3f3f3","#c0a2c7","#e597b2","#e6cde3","#8d6449","#bf794e","#b79b5b","#e6b422","#6e7955","#888e7e","#00a381","#00a497","#478384","#5b7e91","#89c3eb","#84a2d4","#b8d200","#f8b862","#9d5b8b","#c4a3bf","#9fa0a0","#c0a2c7","#4d5aaf","#82ae46","#f8f4e6","#59b9c6","#74325c","#d2691e","#99ffff","#99ff33","#a5c9c1","#e29399"];let s=new Map,i=[];function d(e,n){a.selectAll("*").remove(),p.Ys("#Graph").selectAll(".legend-container").remove(),p.Ys("#Graph").selectAll(".button").remove();let l=e.edge_index.map(((t,o)=>({source:t[0],target:t[1],type:e.edge_info[o]}))),d=[],f=e.node_info.map(((e,t)=>{const o=e[1],r=d.find((e=>e.ServiceName===o));let a;return r?a=r.color:(a=c[d.length+1],d.push({ServiceName:o,color:a})),{Temp:e[0],Service:e[1],ServiceName:e[1],Id:t,color:a,Content:n[e[0]].EventTemplate}}));i=[],i=i.concat(f.slice());let u=p.ohM().on("start",_).on("drag",Y).on("end",j);function y({transform:e}){a.attr("transform",e)}r.call(p.sPX().scaleExtent([.2,6]).on("zoom",y));let h=p.Ys("#Graph").append("div").style("opacity",0).attr("class","tooltip").style("background-color","white").style("border","solid").style("border-width","2px").style("border-radius","5px").style("padding","5px"),v=p.A4v(f).force("link",p.Fsl(l).id((e=>e.Id))).force("charge_force",p.q5i().strength(-800)).force("center_force",p.wqt(t/2,o/2)).force("collide",p.Hh().radius(20).strength(.5)).force("y",p.Mrm());a.append("defs").append("marker").attr("id","arrowhead").attr("refX",21).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z");let m=a.append("g").attr("class","links").selectAll("line").data(l).enter().append("line").attr("stroke-width",3).style("stroke",2).attr("marker-end","url(#arrowhead)").style("stroke",(e=>0===e.type?"black":1===e.type?"red":2===e.type?"green":void 0)),b=a.append("g").attr("class","nodes").selectAll("circle").data(f).enter().append("circle").attr("r",15).attr("fill",(e=>e.color)).style("stroke-width","2px").on("mouseover",A).on("mouseout",N).on("mousemove",T).on("click",(function(){const e=p.Ys(this).data()[0].Id,t=s.has(e);t?(s.delete(e),p.Ys(this).style("stroke","none")):(s.set(e,f[e]),p.Ys(this).style("stroke","red"))})).call(u),g=a.selectAll(".node-label").data(f).enter().append("text").attr("class","node-label").attr("class","unselectable").text((e=>e.Temp)).style("text-anchor","middle").style("dominant-baseline","middle").style("font-size","12px").style("pointer-events","none"),x=a.selectAll(".node-label").data(f).enter().append("text").attr("class","node-label").attr("class","unselectable").text("â—").style("fill",(e=>e.color)).style("text-anchor","middle").style("dominant-baseline","middle").style("font-size","30px").style("pointer-events","none"),w=p.Ys("#Graph").append("div").attr("class","legend-container");w.selectAll(".legend").data(d).enter().append("button").attr("class","legend").style("color",(e=>e.color)).style("display","inline").style("top","20px").style("right","10px").on("click",(e=>{b.filter((t=>t.ServiceName===e.target.__data__.ServiceName)).style("opacity",0)})).html((e=>`<span class="legend-color">&#9632;</span> ${e.ServiceName}`));let k=new Map;function _(e,t){e.active||v.alphaTarget(.1).restart(),t.fx=t.x,t.fy=t.y}function Y(e,t){t.fx=e.x,t.fy=e.y}function j(e,t){e.active||v.alphaTarget(0),t.fx=null,t.fy=null}function A(){h.style("opacity",1),p.Ys(this).style("opacity",1)}function N(){h.style("opacity",0).style("left",0).style("top",0),p.Ys(this).style("opacity",1)}function T(e,t){console.log(t),h.style("left",`${e.clientX+50}px`).style("top",e.clientY-19.5+"px").html(`Content :  ${t.Content.substring(0,300)}`)}"network"===p.Ys("#select-option-layout").property("value")?v.force("x",p.RUJ()):"trace"===p.Ys("#select-option-layout").property("value")&&f.forEach((e=>{const t=e.ServiceName;k.has(t)||k.set(t,50*k.size),e.x=k.get(t)})),l.forEach((e=>{f[e.source.Id].y>f[e.target.Id].y&&(f[e.target.Id].y=f[e.source.Id].y+50)})),v.on("tick",(()=>{b.attr("cx",(e=>e.x)).attr("cy",(e=>e.y)),m.attr("x1",(e=>e.source.x)).attr("y1",(e=>e.source.y)).attr("x2",(e=>e.target.x)).attr("y2",(e=>e.target.y)),g.attr("x",(e=>e.x)).attr("y",(e=>e.y-20)),x.attr("x",(e=>e.x)).attr("y",(e=>e.y))}))}function f(){if(0===s.size){const e=i.map((e=>`${e.ServiceName} || ${e.Content}`));console.log(e.join("\n"))}else{const e=Array.from(s.values()).map((e=>`${e.ServiceName} || ${e.Content}`));console.log(e.join("\n"))}}d(n,l),p.Ys("#Graph").append("button").text("Export").on("click",f)}Promise.all(l).then((e=>{c(e)})).catch((e=>console.error("Error loading files:",e)))},methods:{}},f=o(89);const u=(0,f.Z)(d,[["render",i]]);var y=u,h={name:"App",components:{NewTraceGraph:y}};const v=(0,f.Z)(h,[["render",a]]);var m=v;(0,n.ri)(m).mount("#app")}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,n,r,a){if(!n){var l=1/0;for(p=0;p<e.length;p++){n=e[p][0],r=e[p][1],a=e[p][2];for(var c=!0,s=0;s<n.length;s++)(!1&a||l>=a)&&Object.keys(o.O).every((function(e){return o.O[e](n[s])}))?n.splice(s--,1):(c=!1,a<l&&(l=a));if(c){e.splice(p--,1);var i=r();void 0!==i&&(t=i)}}return t}a=a||0;for(var p=e.length;p>0&&e[p-1][2]>a;p--)e[p]=e[p-1];e[p]=[n,r,a]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,a,l=n[0],c=n[1],s=n[2],i=0;if(l.some((function(t){return 0!==e[t]}))){for(r in c)o.o(c,r)&&(o.m[r]=c[r]);if(s)var p=s(o)}for(t&&t(n);i<l.length;i++)a=l[i],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(p)},n=self["webpackChunkmy_vue_project"]=self["webpackChunkmy_vue_project"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(7900)}));n=o.O(n)})();
//# sourceMappingURL=app.3bd18a97.js.map