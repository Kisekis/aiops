{"version":3,"file":"js/app.3bd18a97.js","mappings":"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","sources":["webpack://my-vue-project/./src/App.vue","webpack://my-vue-project/./src/components/NewTraceGraph.vue","webpack://my-vue-project/./src/components/NewTraceGraph.vue?5163","webpack://my-vue-project/./src/App.vue?7ccd","webpack://my-vue-project/./src/main.js","webpack://my-vue-project/webpack/bootstrap","webpack://my-vue-project/webpack/runtime/chunk loaded","webpack://my-vue-project/webpack/runtime/compat get default export","webpack://my-vue-project/webpack/runtime/define property getters","webpack://my-vue-project/webpack/runtime/global","webpack://my-vue-project/webpack/runtime/hasOwnProperty shorthand","webpack://my-vue-project/webpack/runtime/jsonp chunk loading","webpack://my-vue-project/webpack/startup"],"sourcesContent":["<template>\n  <!-- <img alt=\"Vue logo\" src=\"./assets/logo.png\"> -->\n  <NewTraceGraph></NewTraceGraph>\n  <!-- <EmbedGraph></EmbedGraph> -->\n</template>\n\n<script>\n// import TraceGraph from './components/TraceGraph.vue';\nimport NewTraceGraph from './components/NewTraceGraph.vue';\n// import EmbedGraph from './components/EmbedGraph.vue'\nexport default {\n  name: 'App',\n  components: {\n    // TraceGraph,\n    NewTraceGraph\n    // EmbedGraph\n}\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n","<template>\n  <div id=\"Graph\">\n    <h1>DeepTraLog</h1>\n    <div id=\"dropdown-container\">\n      <label for=\"select-option\">Select Trace:</label>\n      <select id=\"select-option\"></select>\n      <div class=\"dropdown-spacing\" style=\"width:10px;\"></div>\n      <label for=\"select-option-layout\">Layout:</label>\n      <select id=\"select-option-layout\">\n        <option value=\"network\">Network Layout</option>\n        <option value=\"trace\" selected>Trace Layout</option>\n      </select>\n    </div>\n  </div>\n</template>\n<script>\nimport * as d3 from 'd3'\nexport default {\n  data() {\n    return {\n    }\n  },\n  mounted() {\n    let margin = {top: 10, right: 25, bottom: 30, left: 40}\n    let width = 1400 - margin.left - margin.right\n    let height = 650 - margin.top - margin.bottom\n    const files = ['new_single_data5.json', 'template.csv'];\n\n    let svg = d3.select(\"#Graph\")\n        .append(\"svg\")\n          .attr(\"width\", width + margin.left + margin.right)\n          .attr(\"height\", height + margin.top + margin.bottom)\n    let zoom_g = svg.append(\"g\")\n          .attr(\"class\", \"zoom\")\n          .attr(\"transform\",\n                \"translate(\" + margin.left + \",\" + margin.top + \")\");\n    \n    const promises = files.map(file => {\n      if (file.endsWith('.json')) {\n        return d3.json(file);\n      } else if (file.endsWith('.csv')) {\n        return d3.csv(file);\n      }\n    })\n    Promise.all(promises)\n      .then(dataArray => {\n        handleData(dataArray);\n      })\n      .catch(error => console.error('Error loading files:', error));\n\n    // 处理数据的函数\n    function handleData(data) {\n      let single_graph_data = data[0];\n      // eslint-disable-next-line no-unused-vars\n      let id_url_type_data = data[1]\n\n      console.log(data)\n      // for(let i = 0; i <all_graph_data.length ; i++) {\n      //   let nodeInfoArray = all_graph_data[i].node_info;\n      //   let uniqueValues = new Set();\n      //   // 遍历数组并将索引为1的元素添加到 Set 中\n      //   for (let j = 0; j < nodeInfoArray.length; j++) {\n      //       let element = nodeInfoArray[j][1];\n      //       uniqueValues.add(id_service_data[element].Service);\n      //   }\n      //   // 将 Set 转换为数组（如果需要的话）\n      //   let uniqueArray = Array.from(uniqueValues);\n      //   uniqueArray.sort()\n      //   let resultString = uniqueArray.join('\\n');\n      //   // 输出结果\n      //   console.log(all_graph_data[i].error_trace_type);\n      //   console.log(resultString);\n      // }\n      const colors = [\n          '#fdeff2', '#f6bfbc', '#efab93', '#f0908d', '#f3f3f3', '#c0a2c7',\n          '#e597b2', '#e6cde3', '#8d6449', '#bf794e', '#b79b5b', '#e6b422',\n          '#6e7955', '#888e7e', '#00a381', '#00a497', '#478384', '#5b7e91',\n          '#89c3eb', '#84a2d4', '#b8d200', '#f8b862', '#9d5b8b', '#c4a3bf',\n          '#9fa0a0', '#c0a2c7', '#4d5aaf', '#82ae46', '#f8f4e6', '#59b9c6',\n          '#74325c', '#d2691e', '#99ffff', '#99ff33', '#a5c9c1', '#e29399'\n      ];\n      let selectedNodes = new Map();\n      let allNodes = [];\n      function updateSVG(single_graph_data, id_url_type_data) {\n        zoom_g.selectAll(\"*\").remove()\n        d3.select(\"#Graph\").selectAll(\".legend-container\").remove()\n        d3.select(\"#Graph\").selectAll(\".button\").remove()\n        // let scoresArray = single_graph_data.nodes_score.match(/\\d+\\.\\d+/g).map(Number);\n        // let minScore = Math.min(...scoresArray);\n        // let maxScore = Math.max(...scoresArray);\n        // let normalizedArray = scoresArray.map(score => (score - minScore) / (maxScore - minScore));\n\n        // // 将每个数组项依次插入到single_graph_data.node_info[i]\n        // normalizedArray.forEach((score, i) => {\n        //   single_graph_data.node_info[i].push(score.toFixed(2));\n        // });\n\n        let edgeData = single_graph_data.edge_index.map((edge, index) => {\n          return {\n            source: edge[0],\n            target: edge[1],\n            type: single_graph_data.edge_info[index]\n          };\n        });\n\n        let serviceNameColorArray = [];\n\n        // const colorScale = d3.scaleSequential(d3.interpolateYlOrRd);\n\n        let nodeData = single_graph_data.node_info.map((node, index) => {\n\n          const serviceName = node[1];\n          \n          const existingService = serviceNameColorArray.find(entry => entry.ServiceName === serviceName);\n\n          let color;\n\n          if (!existingService) {\n            color = colors[serviceNameColorArray.length+1]\n            serviceNameColorArray.push({\n              ServiceName: serviceName,\n              color: color\n            });\n            \n          }else {\n            color = existingService.color\n          }\n\n          \n          \n          return {\n            Temp: node[0],\n            Service: node[1],\n            ServiceName: node[1],\n            Id: index,\n            color: color,\n            Content: id_url_type_data[node[0]].EventTemplate,\n          };\n        });\n        allNodes = []\n        allNodes = allNodes.concat(nodeData.slice());\n        // eslint-disable-next-line\n        let drag = d3.drag()\n          .on('start', dragstarted)\n          .on('drag', dragged)\n          .on('end', dragended);\n\n        function zoomed({ transform }) {zoom_g.attr(\"transform\", transform)}\n        svg.call(d3.zoom().scaleExtent([0.2, 6]).on(\"zoom\", zoomed));\n\n        let tooltip = d3.select(\"#Graph\")\n          .append(\"div\")\n          .style(\"opacity\", 0)\n          .attr(\"class\", \"tooltip\")\n          .style(\"background-color\", \"white\")\n          .style(\"border\", \"solid\")\n          .style(\"border-width\", \"2px\")\n          .style(\"border-radius\", \"5px\")\n          .style(\"padding\", \"5px\")\n        \n        let simulation = d3.forceSimulation(nodeData)\n          .force('link', d3.forceLink(edgeData).id(d => { return d.Id }))\n          .force('charge_force', d3.forceManyBody().strength(-800))\n          .force('center_force', d3.forceCenter(width / 2, height / 2))\n          .force('collide', d3.forceCollide().radius(20).strength(0.5)) // 添加碰撞力\n          // .force(\"x\", d3.forceX())\n          .force(\"y\", d3.forceY());\n        \n        zoom_g.append(\"defs\").append(\"marker\")\n          .attr(\"id\", \"arrowhead\")\n          .attr(\"refX\", 6 + 15) // Controls the shift of the arrowhead along the path\n          .attr(\"refY\", 2)\n          .attr(\"markerWidth\", 6)\n          .attr(\"markerHeight\", 4)\n          .attr(\"orient\", \"auto\")\n          .append(\"path\")\n          .attr(\"d\", \"M 0,0 V 4 L6,2 Z\"); // Arrowhead path\n\n        let links = zoom_g.append('g')\n          .attr('class', 'links')\n          .selectAll('line')\n          .data(edgeData)\n          .enter()\n          .append('line')\n          .attr('stroke-width', 3)\n          .style('stroke', 2)\n          .attr(\"marker-end\", \"url(#arrowhead)\")\n          .style('stroke', d => {if(d.type === 0) {return 'black'} else if(d.type === 1) {return 'red'} else if (d.type === 2) return 'green'})\n          \n        \n        let nodes = zoom_g.append('g')\n          .attr('class', 'nodes')\n          .selectAll('circle')\n          .data(nodeData)\n          .enter()\n          .append('circle')\n          // .attr('r', d => `${d.score * 15+3}`)\n          .attr('r', 15)\n          .attr('fill', d => d.color)\n          .style('stroke-width', '2px')\n          .on('mouseover', showTooltip)\n          .on('mouseout', hideTooltip)\n          .on('mousemove', moveTooltip)\n          .on('click', function() {\n              const clickedNode = d3.select(this).data()[0].Id;\n              // 检查节点是否已被选中\n              const isSelected = selectedNodes.has(clickedNode);\n\n              // 如果节点已被选中，则从数组中移除\n              if (isSelected) {\n                selectedNodes.delete(clickedNode);\n                d3.select(this).style('stroke', 'none')\n              } else {\n                // 否则，将节点添加到数组中\n                selectedNodes.set(clickedNode, nodeData[clickedNode]);\n                d3.select(this).style('stroke', 'red')\n              }\n            })\n          .call(drag); // 将拖拽事件应用到节点\n\n        let nodeLabels = zoom_g.selectAll(\".node-label\")\n          .data(nodeData)\n          .enter().append(\"text\")\n          .attr(\"class\", \"node-label\")\n          .attr(\"class\", \"unselectable\")\n          .text(d => d.Temp)\n          .style(\"text-anchor\", \"middle\") // 设置文本锚点为中心\n          .style(\"dominant-baseline\", \"middle\") // 设置基线为中心\n          .style(\"font-size\", \"12px\")\n          .style(\"pointer-events\", \"none\")\n        \n        let nodeBlocks = zoom_g.selectAll(\".node-label\")\n          .data(nodeData)\n          .enter().append(\"text\")\n          .attr(\"class\", \"node-label\")\n          .attr(\"class\", \"unselectable\")\n          .text(\"●\")\n          .style(\"fill\", d => d.color)\n          .style(\"text-anchor\", \"middle\") // 设置文本锚点为中心\n          .style(\"dominant-baseline\", \"middle\") // 设置基线为中心\n          .style(\"font-size\", \"30px\")\n          .style(\"pointer-events\", \"none\")\n\n        let legendContainer = d3.select(\"#Graph\").append('div').attr('class', 'legend-container');\n\n        legendContainer.selectAll('.legend')\n          .data(serviceNameColorArray)\n          .enter().append('button')\n          .attr('class', 'legend')\n          .style('color', d => d.color)\n          .style('display', 'inline')\n          .style('top', '20px')\n          .style('right', '10px')\n          .on(\"click\", d => {nodes.filter(dd => dd.ServiceName === d.target.__data__.ServiceName).style('opacity', 0)\n          })\n          .html(d => `<span class=\"legend-color\">&#9632;</span> ${d.ServiceName}`);\n\n        let serviceXMap = new Map()\n        if(d3.select(\"#select-option-layout\").property(\"value\") === 'network') {\n          simulation.force(\"x\", d3.forceX())\n        }else if(d3.select(\"#select-option-layout\").property(\"value\") === 'trace') {\n          nodeData.forEach(node => {\n            const serviceName = node.ServiceName;\n            if (!serviceXMap.has(serviceName)) {\n              // 如果映射中没有该服务，则为其分配一个新的x坐标值\n              serviceXMap.set(serviceName, serviceXMap.size * 50); // 这里假设每个服务间的间距为100\n            }\n            // 为节点设置x坐标\n            node.x = serviceXMap.get(serviceName);\n         });\n        }\n\n\n        edgeData.forEach(edge => {\n            if(nodeData[edge.source.Id].y > nodeData[edge.target.Id].y) {\n              nodeData[edge.target.Id].y = nodeData[edge.source.Id].y + 50\n            }\n        })\n\n\n        simulation.on('tick', () => {\n          nodes\n            .attr(\"cx\", d => d.x)\n            .attr(\"cy\", d => d.y);\n\n          links\n            .attr(\"x1\", d => d.source.x)\n            .attr(\"y1\", d => d.source.y)\n            .attr(\"x2\", d => d.target.x)\n            .attr(\"y2\", d => d.target.y);\n\n          nodeLabels\n            .attr(\"x\", d => d.x)\n            .attr(\"y\", d => d.y-20);\n          nodeBlocks\n            .attr(\"x\", d => d.x)\n            .attr(\"y\", d => d.y);\n        })\n\n\n\n        function dragstarted(event, d) {\n          if (!event.active) simulation.alphaTarget(0.1).restart();\n          d.fx = d.x;\n          d.fy = d.y;\n        }\n\n        function dragged(event, d) {\n          d.fx = event.x;\n          d.fy = event.y;\n        }\n\n        function dragended(event, d) {\n          if (!event.active) simulation.alphaTarget(0);\n          d.fx = null;\n          d.fy = null;\n        }\n        // 当鼠标悬停在节点上时显示浮动信息框\n        function showTooltip() {\n          tooltip\n            .style(\"opacity\", 1)\n            \n          d3.select(this)\n            .style(\"opacity\", 1)\n        }\n\n        // 当鼠标移开节点时隐藏浮动信息框\n        function hideTooltip() {\n          tooltip\n            .style(\"opacity\", 0)\n            .style(\"left\", 0)\n            .style(\"top\", 0)\n          d3.select(this)\n            .style(\"opacity\", 1)\n        }\n        function moveTooltip(event, d) {\n          console.log(d)\n          tooltip\n            .style(\"left\", `${event.clientX+50}px`)\n            .style(\"top\", `${event.clientY-19.5}px`)\n            .html(`Content :  ${d.Content.substring(0, 300)}`)\n        }\n      }\n\n      updateSVG(single_graph_data, id_url_type_data)\n\n      // d3.select(\"#select-option\")\n      //   .selectAll(\"option\")\n      //   .data(all_graph_data)\n      //   .enter()\n      //   .append(\"option\")\n      //   .text(d => d.error_trace_type)\n      //   .property(\"value\", d => d.error_trace_type)\n      // d3.select(\"#select-option\")\n      //   .on(\"change\", onChange);\n\n      // d3.select(\"#select-option-layout\")\n      //   .on(\"change\", onChangeLayout);\n\n      d3.select(\"#Graph\")\n        .append(\"button\")\n        .text(\"Export\") // 设置按钮文本\n        .on(\"click\", handleClick); // 添加点击事件监听器\n      \n      // function sortTrace(a, b) {\n      //     const typeA = a.error_trace_type.toUpperCase();\n      //     const typeB = b.error_trace_type.toUpperCase();\n      //     if (typeA < typeB) {\n      //         return -1;\n      //     }\n      //     if (typeA > typeB) {\n      //         return 1;\n      //     }\n      //     return 0;\n      // }\n\n      // function onChange() {\n      //   var selectedValue = d3.select(this).property(\"value\");\n      //   single_graph_data = all_graph_data.find(function(data) {\n      //       return data.error_trace_type === selectedValue;\n      //   });\n      //   updateSVG(single_graph_data, id_service_data, id_url_temp_data, id_url_type_data)\n      // }\n      // function onChangeLayout() {\n      //   var selectedValue = d3.select(\"#select-option\").property(\"value\");\n      //   single_graph_data = all_graph_data.find(function(data) {\n      //       return data.error_trace_type === selectedValue;\n      //   });\n      //   updateSVG(single_graph_data, id_service_data, id_url_temp_data, id_url_type_data)\n      // }\n\n      function handleClick() {\n        // console.log(Array.from(selectedNodes.values()))\n        if(selectedNodes.size === 0) {\n          const formattedStrings = allNodes.map(node => `${node.ServiceName} || ${node.Content}`);\n          console.log(formattedStrings.join('\\n'))\n        }else {\n          const formattedStrings = Array.from(selectedNodes.values()).map(node => `${node.ServiceName} || ${node.Content}`);\n          console.log(formattedStrings.join('\\n'))\n        }\n      }\n    }\n  },\n  methods: {\n  }\n}\n</script>\n<style>\n#Graph {\n  position: relative;\n}\n.links line {\n  stroke: #999;\n  stroke-opacity: 0.6;\n}\n\n.tooltip {\n  display: inline;\n  position: fixed;\n}\n\n.nodes circle {\n  stroke: #fff;\n  stroke-width: 1.5px;\n}\n\n.unselectable {\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\nsvg {\n  border: 1px solid #ccc;\n}\n</style>\n ","import { render } from \"./NewTraceGraph.vue?vue&type=template&id=909877b8\"\nimport script from \"./NewTraceGraph.vue?vue&type=script&lang=js\"\nexport * from \"./NewTraceGraph.vue?vue&type=script&lang=js\"\n\nimport \"./NewTraceGraph.vue?vue&type=style&index=0&id=909877b8&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=fd7b6896\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=fd7b6896&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmy_vue_project\"] = self[\"webpackChunkmy_vue_project\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(7900); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_NewTraceGraph","id","_hoisted_2","_createElementBlock","_hoisted_1","_hoisted_4","data","mounted","margin","top","right","bottom","left","width","height","files","svg","d3","append","attr","zoom_g","promises","map","file","endsWith","handleData","single_graph_data","id_url_type_data","console","log","colors","selectedNodes","Map","allNodes","updateSVG","selectAll","remove","edgeData","edge_index","edge","index","source","target","type","edge_info","serviceNameColorArray","nodeData","node_info","node","serviceName","existingService","find","entry","ServiceName","color","length","push","Temp","Service","Id","Content","EventTemplate","concat","slice","drag","on","dragstarted","dragged","dragended","zoomed","transform","call","scaleExtent","tooltip","style","simulation","force","d","strength","radius","links","enter","nodes","showTooltip","hideTooltip","moveTooltip","clickedNode","this","isSelected","has","delete","set","nodeLabels","text","nodeBlocks","legendContainer","filter","dd","__data__","html","serviceXMap","event","active","alphaTarget","restart","fx","x","fy","y","clientX","clientY","substring","property","forEach","size","get","handleClick","formattedStrings","join","Array","from","values","Promise","all","then","dataArray","catch","error","methods","__exports__","name","components","NewTraceGraph","render","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","key","splice","r","n","getter","__esModule","a","definition","o","defineProperty","enumerable","g","globalThis","Function","e","window","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}